{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\calin\\\\Desktop\\\\uni\\\\SD\\\\Actualizat\\\\sd-lab-30432-diaconuccalin\\\\Server\\\\CampingPlatformFrontend\\\\react-api\\\\src\\\\host\\\\location\\\\EditLocation.js\";\nimport React from 'react';\nimport { getToken, getUser } from '../../utils/Common';\nimport DeleteLocationModal from './DeleteLocationModal';\n\nclass EditLocation extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      location: [],\n      token: getToken(),\n      maxNo: '',\n      days: '',\n      address: '',\n      description: '',\n      friday: false,\n      saturday: false,\n      sunday: false\n    };\n  }\n\n  componentDidMount() {\n    var queryString = this.props.location.search;\n    let params = new URLSearchParams(queryString);\n    let id = params.get(\"id\");\n    const requestOptions = {\n      headers: {\n        'Authorization': 'Bearer ' + this.state.token\n      }\n    };\n    fetch('http://localhost:5000/api/locations/' + id, requestOptions).then(res => res.json()).then(data => {\n      this.setState({\n        location: data,\n        maxNo: data.maxNoGuests,\n        days: data.days,\n        address: data.physicalAddress,\n        description: data.description\n      });\n\n      if (this.state.days != null) {\n        if (this.state.days.includes(\"FRI\")) {\n          this.setState({\n            friday: true\n          });\n        }\n\n        if (this.state.days.includes(\"SAT\")) {\n          this.setState({\n            saturday: true\n          });\n        }\n\n        if (this.state.days.includes(\"SUN\")) {\n          this.setState({\n            sunday: true\n          });\n        }\n      }\n    }).catch(console.log);\n  }\n\n  handleMaxNoChange(event) {\n    this.setState({\n      maxNo: event.target.value\n    });\n  }\n\n  handleAddressChange(event) {\n    this.setState({\n      address: event.target.value\n    });\n  }\n\n  handleDescriptionChange(event) {\n    this.setState({\n      description: event.target.value\n    });\n  }\n\n  handleFridayChange(event) {\n    this.setState({\n      friday: event.target.checked\n    });\n  }\n\n  handleSaturdayChange(event) {\n    this.setState({\n      saturday: event.target.checked\n    });\n  }\n\n  handleSundayChange(event) {\n    this.setState({\n      sunday: event.target.checked\n    });\n  }\n\n  updateData() {\n    var maxNo = document.getElementById(\"maxNo\").value;\n    var address = document.getElementById(\"address\").value;\n    var description = document.getElementById(\"description\").value;\n    var days = '';\n\n    if (document.getElementById(\"friday\").checked) {\n      days = days.concat('FRI ');\n    }\n\n    if (document.getElementById(\"saturday\").checked) {\n      days = days.concat(\"SAT \");\n    }\n\n    if (document.getElementById(\"sunday\").checked) {\n      days = days.concat(\"SUN\");\n    }\n\n    const requestOptions = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + this.state.token\n      },\n      body: JSON.stringify({\n        hostId: getUser().id,\n        maxNoGuests: parseInt(maxNo),\n        physicalAddress: address,\n        description: description,\n        days: days\n      })\n    };\n    fetch('http://localhost:5000/api/Locations/' + this.state.location.id, requestOptions).then(response => response.json()).then(data => this.setState({\n      postId: data.id\n    })).catch(err => console.log(err));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.updateData.bind(this),\n      action: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row justify-content-center align-items-center mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }\n    }, \"Edit\"))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row justify-content-center align-items-center mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, \"Maximum number of guests\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      class: \"form-control\",\n      id: \"maxNo\",\n      value: this.state.maxNo,\n      onChange: this.handleMaxNoChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row justify-content-center align-items-center mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, \"Available days\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 39\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-check form-check-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"friday\",\n      name: \"friday\",\n      type: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      class: \"form-check-label\",\n      for: \"friday\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 29\n      }\n    }, \"Friday\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-check form-check-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"saturday\",\n      name: \"saturday\",\n      type: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      class: \"form-check-label\",\n      for: \"saturday\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 29\n      }\n    }, \"Saturday\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-check form-check-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"sunday\",\n      name: \"sunday\",\n      type: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      class: \"form-check-label\",\n      for: \"sunday\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 29\n      }\n    }, \"Sunday\")))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row justify-content-center align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }\n    }, \"Physical address\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      class: \"form-control mb-2\",\n      style: {\n        resize: \"none\"\n      },\n      id: \"address\",\n      value: this.state.address,\n      onChange: this.handleAddressChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row justify-content-center align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }, \"Location description\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      class: \"form-control mb-2\",\n      rows: \"5\",\n      style: {\n        resize: \"none\"\n      },\n      id: \"description\",\n      value: this.state.description,\n      onChange: this.handleDescriptionChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row justify-content-center align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    }, \"Location pictures\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 42\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      class: \"form-control-file mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row justify-content-center align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Update\",\n      class: \"btn btn-primary mr-1 mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(DeleteLocationModal, {\n      locationID: this.state.location.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    })))));\n  }\n\n}\n\nexport default EditLocation;","map":{"version":3,"sources":["C:/Users/calin/Desktop/uni/SD/Actualizat/sd-lab-30432-diaconuccalin/Server/CampingPlatformFrontend/react-api/src/host/location/EditLocation.js"],"names":["React","getToken","getUser","DeleteLocationModal","EditLocation","Component","state","location","token","maxNo","days","address","description","friday","saturday","sunday","componentDidMount","queryString","props","search","params","URLSearchParams","id","get","requestOptions","headers","fetch","then","res","json","data","setState","maxNoGuests","physicalAddress","includes","catch","console","log","handleMaxNoChange","event","target","value","handleAddressChange","handleDescriptionChange","handleFridayChange","checked","handleSaturdayChange","handleSundayChange","updateData","document","getElementById","concat","method","body","JSON","stringify","hostId","parseInt","response","postId","err","render","bind","resize"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nimport { getToken, getUser } from '../../utils/Common';\r\nimport DeleteLocationModal from './DeleteLocationModal';\r\n\r\nclass EditLocation extends React.Component {\r\n    state = {\r\n        location: [],\r\n        token: getToken(),\r\n        maxNo: '',\r\n        days: '',\r\n        address: '',\r\n        description: '',\r\n        friday: false,\r\n        saturday: false,\r\n        sunday: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        var queryString = this.props.location.search;\r\n        let params = new URLSearchParams(queryString);\r\n        let id = params.get(\"id\");\r\n        \r\n        const requestOptions = {\r\n            headers: { 'Authorization': 'Bearer ' + this.state.token }\r\n        };\r\n\r\n        fetch('http://localhost:5000/api/locations/' + id, requestOptions)\r\n        .then(res => res.json())\r\n        .then((data) => {\r\n            this.setState({ location: data, maxNo: data.maxNoGuests, days: data.days, address: data.physicalAddress, description: data.description });\r\n\r\n            if(this.state.days != null) {\r\n                if(this.state.days.includes(\"FRI\")) {\r\n                    this.setState({friday: true});\r\n                }\r\n                if(this.state.days.includes(\"SAT\")) {\r\n                    this.setState({saturday: true});\r\n                }\r\n                if(this.state.days.includes(\"SUN\")) {\r\n                    this.setState({sunday: true});\r\n                }\r\n            }\r\n        })\r\n        .catch(console.log)\r\n    }\r\n\r\n    handleMaxNoChange(event) { this.setState({maxNo: event.target.value}) }\r\n    handleAddressChange(event) { this.setState({address: event.target.value}) }\r\n    handleDescriptionChange(event) { this.setState({description: event.target.value}) }\r\n    handleFridayChange(event) { this.setState({friday: event.target.checked}) }\r\n    handleSaturdayChange(event) { this.setState({saturday: event.target.checked}) }\r\n    handleSundayChange(event) { this.setState({sunday: event.target.checked}) }\r\n\r\n    updateData() {\r\n        var maxNo = document.getElementById(\"maxNo\").value;\r\n        var address = document.getElementById(\"address\").value;\r\n        var description = document.getElementById(\"description\").value;\r\n\r\n        var days = '';\r\n        if(document.getElementById(\"friday\").checked) {\r\n            days = days.concat('FRI ');\r\n        }\r\n        if(document.getElementById(\"saturday\").checked) {\r\n            days = days.concat(\"SAT \");\r\n        }\r\n        if(document.getElementById(\"sunday\").checked) {\r\n            days = days.concat(\"SUN\");\r\n        }\r\n\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer ' + this.state.token\r\n            },\r\n            body: JSON.stringify({\r\n                hostId: getUser().id,\r\n                maxNoGuests: parseInt(maxNo),\r\n                physicalAddress: address,\r\n                description: description,\r\n                days: days\r\n            })\r\n        };\r\n        \r\n        fetch('http://localhost:5000/api/Locations/' + this.state.location.id, requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ postId: data.id }))\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    render() {\r\n        return(\r\n        <div class=\"container\">\r\n            <form onSubmit={ this.updateData.bind(this) } action='/' >\r\n                <div class=\"row justify-content-center align-items-center mb-2\">\r\n                    <div class = \"col-4\">\r\n                        <h1>Edit</h1>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row justify-content-center align-items-center mb-2\">\r\n                    <div class = \"col-4\">\r\n                        Maximum number of guests<br />\r\n                        <input type=\"number\" class=\"form-control\" id=\"maxNo\" value={this.state.maxNo} onChange={this.handleMaxNoChange.bind(this)}/>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row justify-content-center align-items-center mb-2\">\r\n                    <div class = \"col-4\">\r\n                        Available days<br />\r\n                        <div class=\"form-check form-check-inline\">\r\n                            <input id=\"friday\" name=\"friday\" type=\"checkbox\" />\r\n                            <label class=\"form-check-label\" for=\"friday\">Friday</label>\r\n                        </div>\r\n                        <div class=\"form-check form-check-inline\">\r\n                            <input id=\"saturday\" name=\"saturday\" type=\"checkbox\" />\r\n                            <label class=\"form-check-label\" for=\"saturday\">Saturday</label>\r\n                        </div>\r\n                        <div class=\"form-check form-check-inline\">\r\n                            <input id=\"sunday\" name=\"sunday\" type=\"checkbox\" />\r\n                            <label class=\"form-check-label\" for=\"sunday\">Sunday</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row justify-content-center align-items-center\">\r\n                    <div class=\"col-4\">\r\n                        Physical address<br />\r\n                        <textarea class=\"form-control mb-2\" style={{resize: \"none\"}} id=\"address\" value={this.state.address} onChange={this.handleAddressChange.bind(this)}/>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row justify-content-center align-items-center\">\r\n                    <div class=\"col-4\">\r\n                        Location description<br />\r\n                        <textarea class=\"form-control mb-2\" rows=\"5\" style={{resize: \"none\"}} id=\"description\" value={this.state.description} onChange={this.handleDescriptionChange.bind(this)}/>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row justify-content-center align-items-center\">\r\n                    <div class=\"col-4\">\r\n                        Location pictures<br />\r\n                        <input type=\"file\" class=\"form-control-file mb-2\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"row justify-content-center align-items-center\">\r\n                    <div class=\"col-4\">\r\n                        <input type=\"submit\" value=\"Update\" class=\"btn btn-primary mr-1 mt-2\" />\r\n                        <DeleteLocationModal locationID={ this.state.location.id }/>\r\n                    </div>\r\n                </div>\r\n            </form>            \r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditLocation;"]},"metadata":{},"sourceType":"module"}