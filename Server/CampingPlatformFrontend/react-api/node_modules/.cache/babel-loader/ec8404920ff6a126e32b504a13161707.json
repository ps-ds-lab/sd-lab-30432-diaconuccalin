{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\calin\\\\Desktop\\\\uni\\\\SD\\\\Actualizat\\\\sd-lab-30432-diaconuccalin\\\\Server\\\\CampingPlatformFrontend\\\\react-api\\\\src\\\\EditHost.js\";\nimport React from 'react';\nimport { getToken } from './utils/Common';\nimport { loadEdit } from './HostsCommands';\n\nclass EditHost extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      host: [],\n      token: getToken(),\n      phoneNo: '',\n      bd: '',\n      photoLoc: ''\n    };\n  }\n\n  componentDidMount() {\n    var queryString = this.props.location.search;\n    let params = new URLSearchParams(queryString);\n    let id = params.get(\"id\");\n    const requestOptions = {\n      headers: {\n        'Authorization': 'Bearer ' + this.state.token\n      }\n    };\n    fetch('http://localhost:5000/api/hosts/' + id, requestOptions).then(res => res.json()).then(data => {\n      console.log(data.dateOfBirth);\n      this.setState({\n        host: data,\n        phoneNo: data.telephoneNumber,\n        bd: data,\n        photoLoc: data.profilePictureLocation\n      });\n    }).catch(console.log);\n  }\n\n  handlePhoneChange(event) {\n    this.setState({\n      phoneNo: event.target.value\n    });\n  }\n\n  handleBirthdayChange(event) {\n    this.setState({\n      bd: event.target.value\n    });\n  }\n\n  handleLocationChange(event) {\n    this.setState({\n      photoLoc: event.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, \"Create\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, \"Host\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.sendData,\n      action: \"/hosts\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 29\n      }\n    }, \"Date of birth\"), /*#__PURE__*/React.createElement(\"input\", {\n      class: \"form-control\",\n      type: \"date\",\n      id: \"dob\",\n      value: this.state.bd,\n      onChange: this.handleBirthdayChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 29\n      }\n    }, \"Telephone number\"), /*#__PURE__*/React.createElement(\"input\", {\n      class: \"form-control\",\n      type: \"tel\",\n      id: \"phone\",\n      value: this.state.phoneNo,\n      onChange: this.handlePhoneChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }\n    }, \"Profile picture location\"), /*#__PURE__*/React.createElement(\"input\", {\n      class: \"form-control\",\n      id: \"picLoc\",\n      value: this.state.photoLoc,\n      onChange: this.handleLocationChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Update\",\n      class: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 29\n      }\n    }))))));\n  }\n\n}\n\nexport default EditHost;","map":{"version":3,"sources":["C:/Users/calin/Desktop/uni/SD/Actualizat/sd-lab-30432-diaconuccalin/Server/CampingPlatformFrontend/react-api/src/EditHost.js"],"names":["React","getToken","loadEdit","EditHost","Component","state","host","token","phoneNo","bd","photoLoc","componentDidMount","queryString","props","location","search","params","URLSearchParams","id","get","requestOptions","headers","fetch","then","res","json","data","console","log","dateOfBirth","setState","telephoneNumber","profilePictureLocation","catch","handlePhoneChange","event","target","value","handleBirthdayChange","handleLocationChange","render","sendData","bind"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { getToken } from './utils/Common';\r\nimport { loadEdit } from './HostsCommands';\r\n\r\nclass EditHost extends React.Component {\r\n    state = {\r\n        host: [],\r\n        token: getToken(),\r\n        phoneNo: '',\r\n        bd: '',\r\n        photoLoc: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        var queryString = this.props.location.search;\r\n        let params = new URLSearchParams(queryString);\r\n        let id = params.get(\"id\");\r\n        \r\n        const requestOptions = {\r\n            headers: { 'Authorization': 'Bearer ' + this.state.token }\r\n        };\r\n\r\n        fetch('http://localhost:5000/api/hosts/' + id, requestOptions)\r\n        .then(res => res.json())\r\n        .then((data) => {\r\n            console.log(data.dateOfBirth);\r\n            this.setState({ host: data, phoneNo: data.telephoneNumber, bd: data, photoLoc: data.profilePictureLocation });\r\n        })\r\n        .catch(console.log)\r\n    }\r\n\r\n    handlePhoneChange(event) {\r\n        this.setState({phoneNo: event.target.value})\r\n    }\r\n\r\n    handleBirthdayChange(event) {\r\n        this.setState({bd: event.target.value})\r\n    }\r\n\r\n    handleLocationChange(event) {\r\n        this.setState({photoLoc: event.target.value})\r\n    }\r\n\r\n    render() {\r\n        return(\r\n        <div class=\"container\">\r\n            <h1>Create</h1>\r\n            <h4>Host</h4>\r\n            <div class=\"row\">\r\n                <div class=\"col-md-4\">\r\n                    <form onSubmit={this.sendData} action='/hosts' >\r\n                        <div class=\"form-group\">\r\n                            <label>Date of birth</label>\r\n                            <input class=\"form-control\" type=\"date\" id=\"dob\" value={this.state.bd} onChange={this.handleBirthdayChange.bind(this)} />\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <label>Telephone number</label>\r\n                            <input class=\"form-control\" type=\"tel\" id=\"phone\" value={this.state.phoneNo} onChange={this.handlePhoneChange.bind(this)} />\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <label>Profile picture location</label>\r\n                            <input class=\"form-control\" id=\"picLoc\" value={this.state.photoLoc} onChange={this.handleLocationChange.bind(this)} />\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <input type=\"submit\" value=\"Update\" class=\"btn btn-primary\" />\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditHost;"]},"metadata":{},"sourceType":"module"}