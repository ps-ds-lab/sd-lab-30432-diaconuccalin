{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\calin\\\\Desktop\\\\uni\\\\SD\\\\Actualizat\\\\sd-lab-30432-diaconuccalin\\\\Server\\\\CampingPlatformFrontend\\\\react-api\\\\src\\\\App.js\";\nimport React, { useState, Component } from 'react';\nimport { BrowserRouter, Switch } from 'react-router-dom';\nimport Modal from 'react-bootstrap/Modal';\nimport Welcome from './Welcome';\nimport Login from './login/Login';\nimport PrivateRoute from './utils/PrivateRoute';\nimport PublicRoute from './utils/PublicRoute';\nimport { getUser, removeUserSession } from './utils/Common';\nimport Guests from './guest/Guests';\nimport Hosts from './host/Hosts';\nimport CreateHost from './host/CreateHost';\nimport DetailsHost from './host/DetailsHost';\nimport EditHost from './host/EditHost';\nimport CreateLocation from './host/CreateLocation';\nimport Home from './Home';\nimport HostRegister from './register/HostRegister';\nimport GuestRegister from './register/GuestRegister';\nimport DetailsLocation from './host/location/DetailsLocation';\nimport EditLocation from './host/location/EditLocation';\nimport EditGuest from './guest/EditGuest';\nimport EditAdmin from './EditAdmin';\nimport Account from './Account';\nimport DetailsGuest from './guest/DetailGuest.js';\nimport Locations from './host/location/Locations';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: getUser(),\n      show: false\n    };\n  }\n\n  componentDidMount() {\n    const socket = new WebSocket('ws://localhost:5000/notifications');\n    socket.addEventListener('message', function (event) {\n      console.log(event.data + \" \" + Date()); //this.handleShow();\n    });\n\n    socket.onopen = () => {\n      console.log(\"OPENED\");\n    };\n\n    socket.onclose = () => {\n      console.log(\"CLOSED\");\n    };\n  }\n\n  handleClose() {\n    this.setState({\n      show: false\n    });\n  }\n\n  handleShow() {\n    this.setState({\n      show: true\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(BrowserRouter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      class: \"navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"navbar-brand\",\n      href: this.state.user ? \"/\" : \"/welcome\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, \"Camping Platform\"), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"navbar-toggler\",\n      type: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-target\": \".navbar-collapse\",\n      \"aria-controls\": \"navbarSupportedContent\",\n      \"aria-expanded\": \"false\",\n      \"aria-label\": \"Toggle navigation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"navbar-toggler-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"navbar-collapse collapse d-sm-inline-flex flex-sm-row-reverse\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      class: \"navbar-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      class: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"nav-link text-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }, this.state.user ? \"Hello, \" : \"\", /*#__PURE__*/React.createElement(\"a\", {\n      class: \"text-dark\",\n      href: this.state.user ? \"/account\" : \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 91\n      }\n    }, this.state.user ? this.state.user.firstname : \"\"), this.state.user ? \"!\" : \"\")), /*#__PURE__*/React.createElement(\"li\", {\n      class: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"nav-link text-dark\",\n      onClick: removeUserSession,\n      href: this.state.user ? \"/welcome\" : \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, this.state.user ? 'Logout' : 'Login'))))))), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show,\n      onHide: this.handleClose,\n      id: \"notificationModal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, \"Request notification\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, \"You have a new request for one of your locations!\"), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-primary mr-1 mt-2\",\n      onClick: this.handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, \"Check request\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-secondary mr-1 mt-2\",\n      onClick: this.handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, \"Dismiss\"))), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(PublicRoute, {\n      path: \"/welcome\",\n      component: Welcome,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PublicRoute, {\n      path: \"/login\",\n      component: Login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PublicRoute, {\n      path: \"/hostRegister\",\n      component: HostRegister,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PublicRoute, {\n      path: \"/guestRegister\",\n      component: GuestRegister,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      path: \"/editAccount\",\n      component: this.state.user ? this.state.user.role === \"Host\" ? EditHost : this.state.user.role === \"Guest\" ? EditGuest : EditAdmin : Welcome,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      path: \"/account\",\n      component: Account,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      path: \"/newLocation\",\n      component: CreateLocation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/\",\n      component: Home,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      path: \"/guests/detail\",\n      component: DetailsGuest,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      path: \"/guests/edit\",\n      component: EditGuest,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      path: \"/guests\",\n      component: Guests,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      path: \"/locationDetail\",\n      component: DetailsLocation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      path: \"/hosts/locationDetail\",\n      component: DetailsLocation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      path: \"/hosts/locationEdit\",\n      component: EditLocation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      path: \"/hosts/detail\",\n      component: DetailsHost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      path: \"/hosts/create\",\n      component: CreateHost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      path: \"/hosts/edit\",\n      component: EditHost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      path: \"/hosts\",\n      component: Hosts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      path: \"/locations\",\n      component: Locations,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      path: \"/guestDetails\",\n      component: DetailsGuest,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"footer\", {\n      class: \"border-top footer text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, \"\\xA9 2020 - CampingPlatform\")))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/calin/Desktop/uni/SD/Actualizat/sd-lab-30432-diaconuccalin/Server/CampingPlatformFrontend/react-api/src/App.js"],"names":["React","useState","Component","BrowserRouter","Switch","Modal","Welcome","Login","PrivateRoute","PublicRoute","getUser","removeUserSession","Guests","Hosts","CreateHost","DetailsHost","EditHost","CreateLocation","Home","HostRegister","GuestRegister","DetailsLocation","EditLocation","EditGuest","EditAdmin","Account","DetailsGuest","Locations","App","state","user","show","componentDidMount","socket","WebSocket","addEventListener","event","console","log","data","Date","onopen","onclose","handleClose","setState","handleShow","render","firstname","role"],"mappings":"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","sourcesContent":["import React, { useState, Component } from 'react';\nimport { BrowserRouter, Switch } from 'react-router-dom';\nimport Modal from 'react-bootstrap/Modal';\n \nimport Welcome from './Welcome';\nimport Login from './login/Login';\nimport PrivateRoute from './utils/PrivateRoute';\nimport PublicRoute from './utils/PublicRoute';\nimport { getUser, removeUserSession } from './utils/Common';\nimport Guests from './guest/Guests';\nimport Hosts from './host/Hosts';\nimport CreateHost from './host/CreateHost';\nimport DetailsHost from './host/DetailsHost';\nimport EditHost from './host/EditHost';\nimport CreateLocation from './host/CreateLocation';\nimport Home from './Home';\nimport HostRegister from './register/HostRegister';\nimport GuestRegister from './register/GuestRegister';\nimport DetailsLocation from './host/location/DetailsLocation';\nimport EditLocation from './host/location/EditLocation';\nimport EditGuest from './guest/EditGuest';\nimport EditAdmin from './EditAdmin';\nimport Account from './Account';\nimport DetailsGuest from './guest/DetailGuest.js';\nimport Locations from './host/location/Locations';\n\nclass App extends Component {\n  state = {\n    user : getUser(),\n    show : false\n  }\n\n  componentDidMount() {\n    const socket = new WebSocket('ws://localhost:5000/notifications');\n  \n    socket.addEventListener('message', function(event) {\n      console.log(event.data + \" \" + Date());\n      //this.handleShow();\n    });\n\n    socket.onopen = () => { console.log(\"OPENED\"); };\n    socket.onclose = () => { console.log(\"CLOSED\"); };\n  }\n\n  handleClose() {\n    this.setState({ show : false });\n  }\n\n  handleShow() {\n    this.setState( { show : true });\n  }\n\n  render(){\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <div>\n          \n          <header>\n            <nav class=\"navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3\">\n              <div class=\"container\">\n                <a class=\"navbar-brand\" href={this.state.user ? \"/\" : \"/welcome\"}>Camping Platform</a>\n                <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\".navbar-collapse\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                  <span class=\"navbar-toggler-icon\"></span>\n                </button>\n                <div class=\"navbar-collapse collapse d-sm-inline-flex flex-sm-row-reverse\">\n                  <ul class=\"navbar-nav\">\n                      <li class=\"nav-item\">\n                        <div class=\"nav-link text-dark\">{this.state.user ? \"Hello, \" : \"\"}<a class=\"text-dark\" href={this.state.user ? \"/account\" : \"\"}>{this.state.user ? this.state.user.firstname : \"\"}</a>{this.state.user ? \"!\" : \"\"}</div>\n                      </li>\n                      <li class=\"nav-item\">\n                        <a class=\"nav-link text-dark\" onClick={removeUserSession} href={this.state.user ? \"/welcome\" : \"/login\"}>{this.state.user ? 'Logout' : 'Login'}</a>\n                      </li>\n                  </ul>\n                </div>\n              </div>\n            </nav>\n          </header>\n\n          <Modal show={this.state.show} onHide={this.handleClose} id=\"notificationModal\">\n            <Modal.Header closeButton>\n                <Modal.Title>Request notification</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>You have a new request for one of your locations! \n            </Modal.Body>\n            <Modal.Footer>\n                <button type=\"button\" class=\"btn btn-primary mr-1 mt-2\" onClick={this.handleClose} >Check request</button>\n                <button type=\"button\" class=\"btn btn-secondary mr-1 mt-2\" onClick={this.handleClose} >Dismiss</button>\n            </Modal.Footer>\n          </Modal>\n\n          <Switch>\n            <PublicRoute path=\"/welcome\" component={Welcome} />\n            <PublicRoute path=\"/login\" component={Login} />\n            <PublicRoute path=\"/hostRegister\" component={HostRegister} />\n            <PublicRoute path=\"/guestRegister\" component={GuestRegister} />\n\n            <PrivateRoute path=\"/editAccount\" component={this.state.user ? this.state.user.role===\"Host\" ? EditHost : this.state.user.role===\"Guest\" ? EditGuest : EditAdmin : Welcome} />\n            <PrivateRoute path=\"/account\" component={Account} />\n            <PrivateRoute path=\"/newLocation\" component={CreateLocation} />\n            <PrivateRoute exact path=\"/\" component={Home} />\n            <PrivateRoute path=\"/guests/detail\" component={DetailsGuest} />\n            <PrivateRoute path=\"/guests/edit\" component={EditGuest} />\n            <PrivateRoute path=\"/guests\" component={Guests} />\n            <PrivateRoute path=\"/locationDetail\" component={DetailsLocation} />\n            <PrivateRoute path=\"/hosts/locationDetail\" component={DetailsLocation} />\n            <PrivateRoute path=\"/hosts/locationEdit\" component={EditLocation} />\n            <PrivateRoute path=\"/hosts/detail\" component={DetailsHost} />\n            <PrivateRoute path=\"/hosts/create\" component={CreateHost} />\n            <PrivateRoute path=\"/hosts/edit\" component={EditHost} />\n            <PrivateRoute path=\"/hosts\" component={Hosts} />\n            <PrivateRoute path=\"/locations\" component={Locations} />\n            <PrivateRoute path=\"/guestDetails\" component={DetailsGuest} />\n          </Switch>\n          \n          <footer class=\"border-top footer text-muted\">\n            <div class=\"container\">\n              © 2020 - CampingPlatform\n            </div>\n          \n          </footer>\n        </div>\n      </BrowserRouter>\n    </div>\n  );}\n}\n \nexport default App;"]},"metadata":{},"sourceType":"module"}