{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\calin\\\\Desktop\\\\uni\\\\SD\\\\Actualizat\\\\sd-lab-30432-diaconuccalin\\\\Server\\\\CampingPlatformFrontend\\\\react-api\\\\src\\\\register\\\\HostRegister.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\n\nfunction HostRegister() {\n  const username = useFormInput('');\n  const password = useFormInput('');\n  const firstName = useFormInput('');\n  const lastName = useFormInput('');\n  const email = useFormInput('');\n  const phone = useFormInput('');\n  const dob = useFormInput('');\n  const profilePic = useFormInput('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleRegister = () => {\n    setError(null);\n    setLoading(true);\n    axios.post('http://localhost:5000/api/Hosts', {\n      dateOfBirth: dob.value + \"T00:00:00\",\n      telephoneNumber: phone.value,\n      profilePictureLocation: profilePic.value\n    }).then(response => {\n      const cId = response.data.id;\n      axios.post('http://localhost:5000/api/users/registerHost', {\n        firstName: firstName.value,\n        lastName: lastName.value,\n        email: email.value,\n        username: username.value,\n        password: password.value,\n        correspondingID: cId\n      }).then(response => {\n        setLoading(false);\n        window.location.href = '/';\n      }).catch(error => {\n        setLoading(false);\n        setError(\"Something went wrong. Please try again later.\");\n      });\n    }).catch(error => {\n      setLoading(false);\n      setError(\"Something went wrong. Please try again later.\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container align-middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row justify-content-center align-items-center mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, \"Create Host Account\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row justify-content-center align-items-center mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Username\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    type: \"text\",\n    class: \"form-control\"\n  }, username, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, \"Password\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    type: \"password\",\n    class: \"form-control mb-4\"\n  }, password, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"First name\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    type: \"text\",\n    class: \"form-control mb-2\"\n  }, firstName, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, \"Last name\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 30\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    type: \"text\",\n    class: \"form-control mb-2\"\n  }, lastName, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, \"Email\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 26\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    type: \"text\",\n    class: \"form-control mb-2\"\n  }, email, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, \"Telephone number\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    type: \"text\",\n    class: \"form-control mb-2\"\n  }, phone, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"Date of birth\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 34\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    type: \"date\",\n    class: \"form-control mb-2\"\n  }, dob, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, \"Profile picture\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 36\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    type: \"file\",\n    class: \"form-control-file mb-2\"\n  }, profilePic, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, error && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"small\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 29\n    }\n  }, error), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 76\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 86\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary mr-1\",\n    onClick: handleRegister,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, loading ? 'Loading...' : 'Register'))));\n}\n\nconst useFormInput = initialValue => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  };\n\n  return {\n    value,\n    onChange: handleChange\n  };\n};\n\nexport default HostRegister;","map":{"version":3,"sources":["C:/Users/calin/Desktop/uni/SD/Actualizat/sd-lab-30432-diaconuccalin/Server/CampingPlatformFrontend/react-api/src/register/HostRegister.js"],"names":["React","useState","axios","HostRegister","username","useFormInput","password","firstName","lastName","email","phone","dob","profilePic","error","setError","loading","setLoading","handleRegister","post","dateOfBirth","value","telephoneNumber","profilePictureLocation","then","response","cId","data","id","correspondingID","window","location","href","catch","color","initialValue","setValue","handleChange","e","target","onChange"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction HostRegister() {\r\n    const username = useFormInput('');\r\n    const password = useFormInput('');\r\n    const firstName = useFormInput('');\r\n    const lastName = useFormInput('');\r\n    const email = useFormInput('');\r\n    const phone = useFormInput('');\r\n    const dob = useFormInput('');\r\n    const profilePic = useFormInput('');\r\n\r\n    const [error, setError] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleRegister = () => {\r\n        setError(null);\r\n        setLoading(true);\r\n\r\n        axios\r\n            .post('http://localhost:5000/api/Hosts',\r\n                {\r\n                    dateOfBirth: dob.value + \"T00:00:00\",\r\n                    telephoneNumber: phone.value,\r\n                    profilePictureLocation: profilePic.value\r\n                })\r\n            .then(response => {\r\n                const cId = response.data.id;\r\n\r\n                axios\r\n                    .post('http://localhost:5000/api/users/registerHost',\r\n                    {\r\n                        firstName: firstName.value,\r\n                        lastName: lastName.value,\r\n                        email: email.value,\r\n                        username: username.value,\r\n                        password: password.value,\r\n                        correspondingID: cId\r\n                    })\r\n                    .then(response => {\r\n                        setLoading(false);\r\n                        window.location.href='/';\r\n                    })\r\n                    .catch(error => {\r\n                        setLoading(false);\r\n                        setError(\"Something went wrong. Please try again later.\");\r\n                    });\r\n            })\r\n            .catch(error => {\r\n                setLoading(false);\r\n                setError(\"Something went wrong. Please try again later.\");\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div class=\"container align-middle\">\r\n            <div class=\"row justify-content-center align-items-center mb-4\">\r\n                <h1>Create Host Account</h1>\r\n            </div>\r\n            <div class=\"row justify-content-center align-items-center mb-2\">\r\n                <div class = \"col-4\">\r\n                    Username<br />\r\n                    <input type=\"text\" class=\"form-control\" {...username} />\r\n                </div>\r\n            </div>\r\n            <div class=\"row justify-content-center align-items-center\">\r\n                <div class=\"col-4\">\r\n                    Password<br />\r\n                    <input type=\"password\" class=\"form-control mb-4\" {...password} />\r\n                </div>\r\n            </div>\r\n            <div class=\"row justify-content-center align-items-center\">\r\n                <div class = \"col-2\">\r\n                    First name<br />\r\n                    <input type=\"text\" class=\"form-control mb-2\" {...firstName} />\r\n                </div>\r\n                <div class = \"col-2\">\r\n                    Last name<br />\r\n                    <input type=\"text\" class=\"form-control mb-2\" {...lastName} />\r\n                </div>\r\n            </div>\r\n            <div class=\"row justify-content-center align-items-center\">\r\n                <div class=\"col-4\">\r\n                    Email<br />\r\n                    <input type=\"text\" class=\"form-control mb-2\" {...email} />\r\n                </div>\r\n            </div>\r\n            <div class=\"row justify-content-center align-items-center\">\r\n                <div class=\"col-4\">\r\n                    Telephone number<br />\r\n                    <input type=\"text\" class=\"form-control mb-2\" {...phone} />\r\n                </div>\r\n            </div>\r\n            <div class=\"row justify-content-center align-items-center\">\r\n                <div class=\"col-4\">\r\n                    Date of birth<br />\r\n                    <input type=\"date\" class=\"form-control mb-2\" {...dob} />\r\n                </div>\r\n            </div>\r\n            <div class=\"row justify-content-center align-items-center\">\r\n                <div class=\"col-4\">\r\n                    Profile picture<br />\r\n                    <input type=\"file\" class=\"form-control-file mb-2\" {...profilePic} />\r\n                </div>\r\n            </div>\r\n            <div class=\"row justify-content-center align-items-center\">\r\n                {error && <><small style={{ color: 'red' }}>{error}</small><br /></>}<br />\r\n            </div>\r\n            <div class=\"row justify-content-center align-items-center\">\r\n                <div class=\"col-4\">\r\n                    <button type=\"button\" class=\"btn btn-primary mr-1\" onClick={handleRegister} disabled={loading} >{loading ? 'Loading...' : 'Register'}</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst useFormInput = initialValue => {\r\n    const [value, setValue] = useState(initialValue);\r\n\r\n    const handleChange = e => {\r\n        setValue(e.target.value);\r\n    }\r\n    return {\r\n        value,\r\n        onChange: handleChange\r\n    }\r\n}\r\n\r\nexport default HostRegister;"]},"metadata":{},"sourceType":"module"}